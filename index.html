<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Граф судей</title>

  <!-- ✅ Правильный порядок: сначала cytoscape, потом papaparse -->
  <script src="https://unpkg.com/cytoscape@3.25.3/dist/cytoscape.min.js"></script>
  <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>

  <style>
    #cy {
      width: 100%;
      height: 90vh;
      display: block;
      border: 1px solid #ddd;
    }
  </style>
</head>
<body>
  <h2>Сетевая модель: судья → подсудимые → прокурор</h2>
  <div id="cy"></div>

  <script>
   fetch("https://script.google.com/macros/s/AKfycbzrJjPnT1PgUCKe2BYHb6Genr1SM-LxfmDbeZbT0B9pFDZCEwavwywJ_g77HC2kC2na/exec")
  .then(r => r.json())
  .then(rows => {
    console.log(rows); // проверь в DevTools
    initCytoscape(rows);
  })
  .catch(err => {
    console.error("Ошибка загрузки данных:", err);
  });
</script>
</body>
</html>
